"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.loadRestResources = void 0;
var tslib_1 = require("tslib");
var types_1 = require("../lib/types");
function loadRestResources(_a) {
    var resources = _a.resources, config = _a.config, RestClient = _a.RestClient;
    var firstResource = Object.keys(resources)[0];
    if (config.apiVersion !== resources[firstResource].API_VERSION) {
        config.logger.log(types_1.LogSeverity.Warning, "Current API version '".concat(config.apiVersion, "' does not match ") +
            "resource API version '".concat(resources[firstResource].API_VERSION, "'"));
    }
    return Object.fromEntries(Object.entries(resources).map(function (_a) {
        var _b = tslib_1.__read(_a, 2), name = _b[0], resource = _b[1];
        var NewResource = /** @class */ (function (_super) {
            tslib_1.__extends(NewResource, _super);
            function NewResource() {
                return _super !== null && _super.apply(this, arguments) || this;
            }
            NewResource.CLIENT = RestClient;
            return NewResource;
        }(resource));
        Reflect.defineProperty(NewResource, 'name', {
            value: name,
        });
        return [name, NewResource];
    }));
}
exports.loadRestResources = loadRestResources;
//# sourceMappingURL=load-rest-resources.js.map